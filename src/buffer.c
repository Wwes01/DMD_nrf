#include "buffer.h"

uint8_t tx_sctrl_buffer[] = {0xFF, 0xF3, 0x43};
uint8_t tx_loadb_buffer[] = {0xFF, 0x7F, 0xFF};

//                                               3                 6                                         
uint8_t tx_drc_b_0[] =      {0xFF, 0xFF, 0xFF, 0x86, 0x7F, 0xFF, 0x80, 0x7F, 0xFE, 0x05, 0xFF, 0xFF, 0xFF, 0XFF}; 
uint8_t tx_drc_b_1[] =      {0XFF, 0xFF, 0xFF, 0xC6, 0x7F, 0xFF, 0xC0, 0x7F, 0xFF, 0x05, 0xFF, 0xFF, 0xFF, 0XFF}; 
uint8_t tx_drc_b_buffer[] = {0XFF, 0xFF, 0xFF, 0x86, 0x7F, 0xFF, 0x80, 0x7F, 0xFE, 0x05, 0xFF, 0xFF, 0xFF, 0XFF};
                                                                                                    
//                                  1                                                           11
uint8_t tx_drc_s_0[] =      {0xFF, 0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0x01, 0XFF}; 
uint8_t tx_drc_s_1[] =      {0XFF, 0x81, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x01, 0XFF}; 
uint8_t tx_drc_s_buffer[] = {0XFF, 0x01, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFE, 0x01, 0XFF}; 

uint8_t tx_sac_b_buffer[] = {0x00, 0x00, 0x00, 0x80, 0x00, 0x00, 0x80, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00};


void shift_right(uint8_t *arr, int size, int shift) 
{
    while (shift--) {
        for (int i = size - 1; i > 0; --i) {
            int carry = (arr[i-1] & 1) ? 0x80 : 0;
            arr[i] = carry | (arr[i] >> 1);
        }
		arr[0] = (arr[0] >> 1) | 0b00000000;
    }
} 